---
import { getCollection } from "astro:content";
import { Content as Definition } from "../../components/definitions/practices.md";
import SpecCard from "../../components/SpecCard.astro";
import CollectionIndex from "../../layouts/CollectionIndex.astro";

const practices = await getCollection("practices");
const sortedPractices = practices.sort(
  (a, b) => b.data.lastUpdated.getTime() - a.data.lastUpdated.getTime(),
);
---

<CollectionIndex
  title="Practices"
  description="Practical implementation guides, specifications, and step-by-step tutorials for adopting ASDLC workflows."
  heading="Practices & Implementation Guides"
>
  <Definition slot="definition" />

  {sortedPractices.map((practice) => (
    <SpecCard
      title={practice.data.title}
      url={`/practices/${practice.id}`}
      meta={`${practice.data.lastUpdated.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}`}
      tags={practice.data.tags || []}
    />
  ))}
</CollectionIndex>
